# ForzaTune.PRO å®Œæ•´åŠŸèƒ½éœ€æ±‚æ¸…å•å’ŒAPIæ–‡æ¡£

## ğŸ“‹ å‰ç«¯åŠŸèƒ½éœ€æ±‚å®Œæ•´æ¸…å•

### âœ… å·²å®ç°åŠŸèƒ½

#### 1. è½¦è¾†ç³»ç»Ÿ
- âœ… è½¦è¾†æŸ¥è¯¢å’Œæœç´¢
- âœ… è½¦è¾†åˆ†ç±»ç­›é€‰
- âœ… åˆ¶é€ å•†ç­›é€‰
- âœ… é©±åŠ¨æ–¹å¼ç­›é€‰
- âœ… PIç­‰çº§ç­›é€‰
- âœ… çƒ­é—¨è½¦è¾†å±•ç¤º

#### 2. è°ƒæ ¡ç³»ç»Ÿ
- âœ… è°ƒæ ¡æŸ¥è¯¢å’Œæœç´¢
- âœ… è°ƒæ ¡è¯¦æƒ…å±•ç¤º
- âœ… è°ƒæ ¡å‚æ•°å±•ç¤º
- âœ… PROè°ƒæ ¡æ ‡è¯†
- âœ… è°ƒæ ¡ç‚¹èµåŠŸèƒ½
- âœ… è°ƒæ ¡ç­›é€‰ï¼ˆè½¦è¾†ã€ä½œè€…ã€PROã€åå¥½ã€PIç­‰çº§ã€æ¯”èµ›ç±»å‹ï¼‰

#### 3. ç”¨æˆ·ç³»ç»Ÿ
- âœ… ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… PROç”¨æˆ·æ ‡è¯†
- âœ… ç”¨æˆ·ç­‰çº§ï¼ˆSTANDARDã€VERIFIEDã€PROï¼‰
- âœ… ç”¨æˆ·ç»Ÿè®¡ä¿¡æ¯

#### 4. é¦–é¡µåŠŸèƒ½
- âœ… çƒ­é—¨è½¦è¾†å±•ç¤º
- âœ… æœ€æ–°è°ƒæ ¡å±•ç¤º
- âœ… PROè°ƒæ ¡å±•ç¤º
- âœ… ç»Ÿè®¡ä¿¡æ¯å±•ç¤º

### âŒ ç¼ºå¤±åŠŸèƒ½ï¼ˆå·²è¡¥å……ï¼‰

#### 1. è¯„è®ºç³»ç»Ÿ
- âœ… è°ƒæ ¡è¯„è®ºï¼ˆTuneCommentï¼‰
- âœ… è¯„è®ºå›å¤ï¼ˆTuneCommentReplyï¼‰
- âœ… è¯„è®ºç‚¹èµ
- âœ… PROç”¨æˆ·è¯„è®ºç‰¹æ®Šæ ‡è®°
- âœ… è¯„è®ºç®¡ç†æ¥å£

#### 2. è½¦é˜Ÿç³»ç»Ÿ
- âœ… è½¦é˜Ÿä¿¡æ¯ï¼ˆTeamï¼‰
- âœ… è½¦é˜Ÿæˆå‘˜ï¼ˆTeamMemberï¼‰
- âœ… è½¦é˜Ÿè§’è‰²å’Œæƒé™
- âœ… è½¦é˜Ÿç®¡ç†æ¥å£
- âœ… è½¦é˜Ÿç”³è¯·/é‚€è¯·æ¥å£

#### 3. PROç”¨æˆ·è®¤è¯
- âœ… PROç”¨æˆ·æ ‡è¯†
- âœ… PROè®¤è¯ä¿¡æ¯ï¼ˆProCertificationï¼‰
- âœ… PROç”³è¯·æµç¨‹
- âœ… PROè®¤è¯ç®¡ç†æ¥å£

#### 4. ç”¨æˆ·æ´»åŠ¨
- âœ… ç”¨æˆ·ç‚¹èµ/æ”¶è—
- âœ… ç”¨æˆ·æ´»åŠ¨è®°å½•
- âœ… æ´»åŠ¨ç®¡ç†æ¥å£

#### 5. åœˆé€Ÿè®°å½•
- âœ… åœˆé€Ÿå®ä½“ï¼ˆLapTimeï¼‰
- âœ… åœˆé€Ÿç®¡ç†æ¥å£

## ğŸ”§ å®Œæ•´APIæ¥å£åˆ—è¡¨

### 1. è½¦è¾†ç›¸å…³æ¥å£

#### 1.1 åŸºç¡€è½¦è¾†æ¥å£
- `GET /api/cars` - è·å–æ‰€æœ‰è½¦è¾†ï¼ˆæ”¯æŒæœç´¢å’Œç­›é€‰ï¼‰
- `GET /api/cars/{id}` - æ ¹æ®IDè·å–è½¦è¾†
- `GET /api/cars/search` - æœç´¢è½¦è¾†
- `GET /api/cars/manufacturers` - è·å–æ‰€æœ‰åˆ¶é€ å•†
- `GET /api/cars/category/{category}` - æ ¹æ®åˆ†ç±»è·å–è½¦è¾†
- `GET /api/cars/drivetrain/{drivetrain}` - æ ¹æ®é©±åŠ¨æ–¹å¼è·å–è½¦è¾†
- `GET /api/cars/popular` - è·å–çƒ­é—¨è½¦è¾†
- `GET /api/cars/info` - è·å–è½¦å‹æ•°æ®ä¿¡æ¯
- `GET /api/cars/stats` - è·å–è½¦è¾†ç»Ÿè®¡ä¿¡æ¯

#### 1.2 è½¦å‹æ•°æ®ç®¡ç†
- `POST /api/admin/cars/reload` - é‡æ–°åŠ è½½è½¦å‹æ•°æ®
- `GET /api/admin/cars/stats` - è·å–è½¦å‹æ•°æ®ç»Ÿè®¡

### 2. è°ƒæ ¡ç›¸å…³æ¥å£

#### 2.1 åŸºç¡€è°ƒæ ¡æ¥å£
- `GET /api/tunes` - è·å–æ‰€æœ‰è°ƒæ ¡ï¼ˆæ”¯æŒå¤šç§ç­›é€‰æ¡ä»¶ï¼‰
- `GET /api/tunes/{id}` - æ ¹æ®IDè·å–è°ƒæ ¡è¯¦æƒ…
- `GET /api/tunes/car/{carId}` - æ ¹æ®è½¦è¾†IDè·å–è°ƒæ ¡
- `GET /api/tunes/car/{carId}/pro` - è·å–è½¦è¾†çš„PROè°ƒæ ¡
- `GET /api/tunes/author/{authorId}` - æ ¹æ®ä½œè€…IDè·å–è°ƒæ ¡
- `GET /api/tunes/pro` - è·å–æ‰€æœ‰PROè°ƒæ ¡
- `GET /api/tunes/popular` - è·å–çƒ­é—¨è°ƒæ ¡
- `GET /api/tunes/recent` - è·å–æœ€æ–°è°ƒæ ¡
- `GET /api/tunes/search` - é«˜çº§æœç´¢è°ƒæ ¡
- `GET /api/tunes/car/{carId}/preference/{preference}` - æ ¹æ®è½¦è¾†IDå’Œåå¥½è·å–è°ƒæ ¡

#### 2.2 è°ƒæ ¡ç®¡ç†
- `POST /api/tunes` - åˆ›å»ºæ–°è°ƒæ ¡
- `PUT /api/tunes/{id}/like` - æ›´æ–°è°ƒæ ¡ç‚¹èµæ•°
- `GET /api/tunes/stats` - è·å–è°ƒæ ¡ç»Ÿè®¡ä¿¡æ¯
- `GET /api/tunes/pro/stats` - è·å–PROè°ƒæ ¡ç»Ÿè®¡
- `GET /api/tunes/author/{authorId}/stats` - è·å–ä½œè€…è°ƒæ ¡ç»Ÿè®¡

### 3. è¯„è®ºç³»ç»Ÿæ¥å£

#### 3.1 è¯„è®ºç®¡ç†
- `GET /api/comments/tune/{tuneId}` - æ ¹æ®è°ƒæ ¡IDè·å–è¯„è®º
- `GET /api/comments/{id}` - æ ¹æ®IDè·å–è¯„è®ºè¯¦æƒ…
- `POST /api/comments` - æ·»åŠ è¯„è®º
- `PUT /api/comments/{id}` - æ›´æ–°è¯„è®º
- `DELETE /api/comments/{id}` - åˆ é™¤è¯„è®º
- `POST /api/comments/{id}/like` - ç‚¹èµè¯„è®º

#### 3.2 å›å¤ç®¡ç†
- `POST /api/comments/{commentId}/replies` - æ·»åŠ å›å¤
- `PUT /api/comments/replies/{id}` - æ›´æ–°å›å¤
- `DELETE /api/comments/replies/{id}` - åˆ é™¤å›å¤
- `POST /api/comments/replies/{id}/like` - ç‚¹èµå›å¤

#### 3.3 è¯„è®ºç»Ÿè®¡
- `GET /api/comments/stats` - è·å–è¯„è®ºç»Ÿè®¡

### 4. è½¦é˜Ÿç³»ç»Ÿæ¥å£

#### 4.1 è½¦é˜Ÿç®¡ç†
- `GET /api/teams` - è·å–æ‰€æœ‰è½¦é˜Ÿ
- `GET /api/teams/{id}` - æ ¹æ®IDè·å–è½¦é˜Ÿè¯¦æƒ…
- `GET /api/teams/name/{name}` - æ ¹æ®åç§°è·å–è½¦é˜Ÿ
- `POST /api/teams` - åˆ›å»ºè½¦é˜Ÿ
- `PUT /api/teams/{id}` - æ›´æ–°è½¦é˜Ÿä¿¡æ¯
- `DELETE /api/teams/{id}` - åˆ é™¤è½¦é˜Ÿ

#### 4.2 è½¦é˜Ÿæˆå‘˜ç®¡ç†
- `GET /api/teams/{teamId}/members` - è·å–è½¦é˜Ÿæˆå‘˜
- `POST /api/teams/{teamId}/members` - æ·»åŠ è½¦é˜Ÿæˆå‘˜
- `PUT /api/teams/{teamId}/members/{userId}` - æ›´æ–°æˆå‘˜è§’è‰²
- `DELETE /api/teams/{teamId}/members/{userId}` - ç§»é™¤è½¦é˜Ÿæˆå‘˜

#### 4.3 è½¦é˜Ÿç”³è¯·/é‚€è¯·
- `POST /api/teams/{teamId}/apply` - ç”³è¯·åŠ å…¥è½¦é˜Ÿ
- `PUT /api/teams/{teamId}/applications/{userId}` - å¤„ç†è½¦é˜Ÿç”³è¯·
- `POST /api/teams/{teamId}/invite` - é‚€è¯·ç”¨æˆ·åŠ å…¥è½¦é˜Ÿ
- `PUT /api/teams/{teamId}/invitations/{userId}` - å¤„ç†è½¦é˜Ÿé‚€è¯·

#### 4.4 ç”³è¯·/é‚€è¯·æŸ¥è¯¢
- `GET /api/teams/applications/user/{userId}` - è·å–ç”¨æˆ·çš„ç”³è¯·åˆ—è¡¨
- `GET /api/teams/invitations/user/{userId}` - è·å–ç”¨æˆ·çš„é‚€è¯·åˆ—è¡¨
- `GET /api/teams/{teamId}/applications` - è·å–è½¦é˜Ÿç”³è¯·åˆ—è¡¨
- `GET /api/teams/{teamId}/invitations` - è·å–è½¦é˜Ÿé‚€è¯·åˆ—è¡¨

### 5. PROè®¤è¯ç³»ç»Ÿæ¥å£

#### 5.1 PROè®¤è¯ç®¡ç†
- `GET /api/pro/certifications/{userId}` - è·å–ç”¨æˆ·çš„PROè®¤è¯ä¿¡æ¯
- `POST /api/pro/certifications` - æ·»åŠ PROè®¤è¯
- `PUT /api/pro/certifications/{id}` - æ›´æ–°PROè®¤è¯çŠ¶æ€
- `DELETE /api/pro/certifications/{id}` - åˆ é™¤PROè®¤è¯

#### 5.2 PROç”³è¯·ç®¡ç†
- `POST /api/pro/applications` - æäº¤PROç”³è¯·
- `GET /api/pro/applications` - è·å–PROç”³è¯·åˆ—è¡¨
- `GET /api/pro/applications/user/{userId}` - è·å–ç”¨æˆ·çš„PROç”³è¯·
- `PUT /api/pro/applications/{id}` - å¤„ç†PROç”³è¯·

#### 5.3 PROç»Ÿè®¡
- `GET /api/pro/stats` - è·å–PROç”¨æˆ·ç»Ÿè®¡

### 6. ç”¨æˆ·æ´»åŠ¨æ¥å£

#### 6.1 æ´»åŠ¨ç®¡ç†
- `GET /api/activities/user/{userId}` - è·å–ç”¨æˆ·æ´»åŠ¨åˆ—è¡¨
- `POST /api/activities` - æ·»åŠ ç”¨æˆ·æ´»åŠ¨
- `GET /api/activities/stats/user/{userId}` - è·å–ç”¨æˆ·æ´»åŠ¨ç»Ÿè®¡

### 7. ç”¨æˆ·ç³»ç»Ÿæ¥å£

#### 7.1 ç”¨æˆ·ç®¡ç†
- `GET /api/users` - è·å–æ‰€æœ‰ç”¨æˆ·
- `GET /api/users/{id}` - æ ¹æ®IDè·å–ç”¨æˆ·
- `GET /api/users/gamertag/{gamertag}` - æ ¹æ®Gamertagè·å–ç”¨æˆ·
- `GET /api/users/pro` - è·å–æ‰€æœ‰PROç©å®¶
- `GET /api/users/pro/count` - è·å–PROç©å®¶æ•°é‡
- `POST /api/users` - åˆ›å»ºæ–°ç”¨æˆ·
- `PUT /api/users/{id}` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `GET /api/users/check/email/{email}` - æ£€æŸ¥é‚®ç®±æ˜¯å¦å­˜åœ¨
- `GET /api/users/check/gamertag/{gamertag}` - æ£€æŸ¥Gamertagæ˜¯å¦å­˜åœ¨

### 8. é¦–é¡µæ¥å£

#### 8.1 é¦–é¡µæ•°æ®
- `GET /api/home/data` - è·å–é¦–é¡µæ‰€æœ‰æ•°æ®
- `GET /api/home/popular-cars` - è·å–çƒ­é—¨è½¦è¾†
- `GET /api/home/recent-tunes` - è·å–æœ€æ–°è°ƒæ ¡
- `GET /api/home/pro-tunes` - è·å–PROè°ƒæ ¡
- `GET /api/home/stats` - è·å–é¦–é¡µç»Ÿè®¡ä¿¡æ¯

### 9. è¿ç»´ç®¡ç†æ¥å£

#### 9.1 ç³»ç»Ÿç›‘æ§
- `GET /api/admin/health` - ç³»ç»Ÿå¥åº·æ£€æŸ¥
- `GET /api/admin/stats` - ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯

#### 9.2 æ•°æ®æ¸…ç†
- `POST /api/admin/users/cleanup` - æ¸…ç†æ— æ•ˆç”¨æˆ·
- `POST /api/admin/tunes/cleanup` - æ¸…ç†æ— æ•ˆè°ƒæ ¡
- `POST /api/admin/consistency/check` - æ£€æŸ¥æ•°æ®ä¸€è‡´æ€§
- `POST /api/admin/consistency/fix` - ä¿®å¤æ•°æ®é—®é¢˜

#### 9.3 æ‰¹é‡æ“ä½œ
- `POST /api/admin/batch` - æ‰¹é‡æ“ä½œæ¥å£

## ğŸ¯ å‰ç«¯æ¥å£å¯¹åº”å…³ç³»

| å‰ç«¯åŠŸèƒ½ | åç«¯æ¥å£ | çŠ¶æ€ |
|---------|---------|------|
| `getAllCars()` | `GET /api/cars` | âœ… å·²å®ç° |
| `getCarById(carId)` | `GET /api/cars/{id}` | âœ… å·²å®ç° |
| `getTunesByCarId(carId)` | `GET /api/tunes/car/{carId}` | âœ… å·²å®ç° |
| `getTuneById(tuneId)` | `GET /api/tunes/{id}` | âœ… å·²å®ç° |
| `getProTunes()` | `GET /api/tunes/pro` | âœ… å·²å®ç° |
| `getProTunesByCarId(carId)` | `GET /api/tunes/car/{carId}/pro` | âœ… å·²å®ç° |
| `getTunesByAuthorId(authorId)` | `GET /api/tunes/author/{authorId}` | âœ… å·²å®ç° |
| `getCommentsByTuneId(tuneId)` | `GET /api/comments/tune/{tuneId}` | âœ… å·²å®ç° |
| `addComment(tuneId, commentData)` | `POST /api/comments` | âœ… å·²å®ç° |
| `addReply(commentId, replyData)` | `POST /api/comments/{commentId}/replies` | âœ… å·²å®ç° |
| `updateCommentLikes(commentId)` | `POST /api/comments/{id}/like` | âœ… å·²å®ç° |
| `updateReplyLikes(replyId)` | `POST /api/comments/replies/{id}/like` | âœ… å·²å®ç° |
| `getAllUsers()` | `GET /api/users` | âœ… å·²å®ç° |
| `getUserById(userId)` | `GET /api/users/{id}` | âœ… å·²å®ç° |
| `getUserByGamertag(gamertag)` | `GET /api/users/gamertag/{gamertag}` | âœ… å·²å®ç° |
| é¦–é¡µçƒ­é—¨è½¦è¾† | `GET /api/home/popular-cars` | âœ… å·²å®ç° |
| é¦–é¡µæœ€æ–°è°ƒæ ¡ | `GET /api/home/recent-tunes` | âœ… å·²å®ç° |
| é¦–é¡µPROè°ƒæ ¡ | `GET /api/home/pro-tunes` | âœ… å·²å®ç° |
| è½¦é˜Ÿä¿¡æ¯ | `GET /api/teams/{id}` | âœ… å·²å®ç° |
| è½¦é˜Ÿæˆå‘˜ | `GET /api/teams/{teamId}/members` | âœ… å·²å®ç° |
| PROè®¤è¯ä¿¡æ¯ | `GET /api/pro/certifications/{userId}` | âœ… å·²å®ç° |
| ç”¨æˆ·æ´»åŠ¨ | `GET /api/activities/user/{userId}` | âœ… å·²å®ç° |

## ğŸ” ç‰¹æ®ŠåŠŸèƒ½æ”¯æŒ

### 1. PROç”¨æˆ·ç‰¹æ®Šæ ‡è®°
- âœ… è°ƒæ ¡ä¸­çš„PROæ ‡è¯†ï¼ˆisProTuneï¼‰
- âœ… è¯„è®ºä¸­çš„PROç”¨æˆ·æ ‡è¯†ï¼ˆisProPlayerï¼‰
- âœ… å›å¤ä¸­çš„PROç”¨æˆ·æ ‡è¯†ï¼ˆisProPlayerï¼‰
- âœ… ç”¨æˆ·èµ„æ–™ä¸­çš„PROè®¤è¯ä¿¡æ¯
- âœ… PROè°ƒæ ¡ä¼˜å…ˆæ’åº

### 2. è¯„è®ºç³»ç»Ÿç‰¹æ€§
- âœ… è¯„è®ºåµŒå¥—å›å¤
- âœ… è¯„è®ºç‚¹èµåŠŸèƒ½
- âœ… å›å¤ç‚¹èµåŠŸèƒ½
- âœ… è¯„è®ºè¯„åˆ†ï¼ˆ1-5æ˜Ÿï¼‰
- âœ… PROç”¨æˆ·è¯„è®ºç‰¹æ®Šæ ‡è®°

### 3. è½¦é˜Ÿç³»ç»Ÿç‰¹æ€§
- âœ… è½¦é˜Ÿè§’è‰²ç®¡ç†ï¼ˆOWNERã€ADMINã€MODERATORã€MEMBERï¼‰
- âœ… è½¦é˜Ÿæƒé™æ§åˆ¶
- âœ… è½¦é˜Ÿç”³è¯·æµç¨‹
- âœ… è½¦é˜Ÿé‚€è¯·æµç¨‹
- âœ… è½¦é˜Ÿç»Ÿè®¡ä¿¡æ¯

### 4. ç”¨æˆ·æ´»åŠ¨è¿½è¸ª
- âœ… ç‚¹èµæ´»åŠ¨è®°å½•
- âœ… æ”¶è—æ´»åŠ¨è®°å½•
- âœ… è¯„è®ºæ´»åŠ¨è®°å½•
- âœ… ä¸Šä¼ è°ƒæ ¡æ´»åŠ¨è®°å½•
- âœ… åŠ å…¥è½¦é˜Ÿæ´»åŠ¨è®°å½•

## ğŸ“Š æ•°æ®åº“è¡¨ç»“æ„

### æ ¸å¿ƒè¡¨
1. **users** - ç”¨æˆ·è¡¨
2. **cars** - è½¦è¾†è¡¨ï¼ˆé™æ€æ•°æ®ï¼‰
3. **tunes** - è°ƒæ ¡è¡¨
4. **tune_parameters** - è°ƒæ ¡å‚æ•°è¡¨
5. **tracks** - èµ›é“è¡¨
6. **lap_times** - åœˆé€Ÿè®°å½•è¡¨

### æ–°å¢è¡¨
7. **tune_comments** - è°ƒæ ¡è¯„è®ºè¡¨
8. **comment_replies** - è¯„è®ºå›å¤è¡¨
9. **teams** - è½¦é˜Ÿè¡¨
10. **team_members** - è½¦é˜Ÿæˆå‘˜è¡¨
11. **team_applications** - è½¦é˜Ÿç”³è¯·è¡¨
12. **team_invitations** - è½¦é˜Ÿé‚€è¯·è¡¨
13. **pro_certifications** - PROè®¤è¯è¡¨
14. **pro_applications** - PROç”³è¯·è¡¨
15. **user_activities** - ç”¨æˆ·æ´»åŠ¨è¡¨
16. **user_likes** - ç”¨æˆ·ç‚¹èµè¡¨
17. **user_favorites** - ç”¨æˆ·æ”¶è—è¡¨
18. **comment_likes** - è¯„è®ºç‚¹èµè¡¨
19. **reply_likes** - å›å¤ç‚¹èµè¡¨

## ğŸš€ éƒ¨ç½²å’Œä½¿ç”¨

### 1. æ•°æ®åº“åˆå§‹åŒ–
```sql
source src/main/resources/schema.sql
```

### 2. å¯åŠ¨åº”ç”¨
```bash
mvn spring-boot:run
```

### 3. æµ‹è¯•æ¥å£
```bash
# æµ‹è¯•è½¦è¾†æ¥å£
curl -X GET http://localhost:8080/api/cars

# æµ‹è¯•è°ƒæ ¡æ¥å£
curl -X GET http://localhost:8080/api/tunes

# æµ‹è¯•è¯„è®ºæ¥å£
curl -X GET http://localhost:8080/api/comments/tune/tune1

# æµ‹è¯•è½¦é˜Ÿæ¥å£
curl -X GET http://localhost:8080/api/teams

# æµ‹è¯•PROæ¥å£
curl -X GET http://localhost:8080/api/pro/stats
```

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **è®¤è¯æˆæƒ**: ç”Ÿäº§ç¯å¢ƒéœ€è¦æ·»åŠ JWTè®¤è¯å’Œæƒé™æ§åˆ¶
2. **æ•°æ®éªŒè¯**: éœ€è¦æ·»åŠ è¾“å…¥æ•°æ®éªŒè¯
3. **é”™è¯¯å¤„ç†**: éœ€è¦å®Œå–„é”™è¯¯å¤„ç†æœºåˆ¶
4. **ç¼“å­˜ä¼˜åŒ–**: å¯è€ƒè™‘æ·»åŠ Redisç¼“å­˜
5. **åˆ†é¡µæ”¯æŒ**: å¤§é‡æ•°æ®æ—¶éœ€è¦è€ƒè™‘åˆ†é¡µ
6. **ç›‘æ§å‘Šè­¦**: å»ºè®®æ·»åŠ æ¥å£ç›‘æ§å’Œæ€§èƒ½æŒ‡æ ‡

ç°åœ¨æ‰€æœ‰å‰ç«¯åŠŸèƒ½éœ€æ±‚éƒ½å·²ç»åœ¨åç«¯å¾—åˆ°å®Œæ•´æ”¯æŒï¼ 